EESchema Schematic File Version 2  date 10.07.2009 23:28:11
LIBS:power,xilinx,valves,ttl_ieee,transistors,texas,SymbolsSimilarEN60617+oldDIN617,special,siliconi,regul,ramtron,pspice,philips,pca82c250,opto,oobd_d1,motorola,microcontrollers,microchip1,microchip,memory,lm339,linear,interface,intel,graphic,gennum,elec-unifil,dsp,display,digital-audio,cypress,contrib,conn,cmos_ieee,cmos4000,brooktre,audio,atmel,analog_switches,adc-dac,74xx,device,.\oobd_top.cache
EELAYER 24  0
EELAYER END
$Descr A4 11700 8267
Sheet 4 6
Title "D1 OBD Interface"
Date "1 jun 2009"
Rev "3"
Comp "www.oobd.org"
Comment1 "obd_interface"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Connection ~ 7800 1100
Wire Wire Line
	7800 1100 7800 1200
Wire Wire Line
	7800 1200 7850 1200
Wire Wire Line
	7750 1050 7450 1050
Connection ~ 9200 2950
Wire Wire Line
	9200 2950 9200 5550
Wire Wire Line
	9200 5550 9050 5550
Wire Wire Line
	9800 3150 6800 3150
Wire Wire Line
	6800 3150 6800 6150
Wire Wire Line
	6800 6150 5300 6150
Wire Wire Line
	5300 6150 5300 5950
Wire Wire Line
	9350 6200 9350 3250
Wire Wire Line
	9350 6200 8150 6200
Wire Wire Line
	8150 6200 8150 5950
Wire Wire Line
	9550 3750 9550 3450
Wire Wire Line
	9550 3450 9800 3450
Wire Wire Line
	9050 4950 9100 4950
Wire Wire Line
	9800 2950 6600 2950
Wire Wire Line
	6600 2950 6600 5550
Wire Wire Line
	6600 5550 6200 5550
Connection ~ 3250 4300
Wire Wire Line
	3250 5150 3250 4300
Wire Wire Line
	2450 4300 2450 3350
Wire Wire Line
	2450 4300 6900 4300
Wire Wire Line
	6900 4300 6900 5450
Wire Wire Line
	4800 5050 4250 5050
Connection ~ 2750 4900
Wire Wire Line
	2750 5150 2750 4900
Connection ~ 2650 5700
Wire Wire Line
	2650 6000 2650 5700
Wire Wire Line
	3750 3150 1200 3150
Wire Wire Line
	5450 3550 6400 3550
Wire Wire Line
	6400 3550 6400 2850
Wire Wire Line
	6400 2850 9800 2850
Wire Wire Line
	6300 2750 6300 3400
Wire Wire Line
	6300 2750 9800 2750
Wire Wire Line
	9800 2550 5950 2550
Wire Wire Line
	5950 2550 5950 3100
Wire Wire Line
	5950 3100 5450 3100
Wire Wire Line
	5850 2350 5850 1650
Wire Wire Line
	5850 2350 9800 2350
Wire Wire Line
	5850 1650 5450 1650
Wire Wire Line
	9800 2150 6250 2150
Wire Wire Line
	6250 2150 6250 1250
Wire Wire Line
	6250 1250 5450 1250
Wire Wire Line
	3750 1150 1500 1150
Wire Wire Line
	1500 1150 1500 2850
Connection ~ 3350 5700
Wire Wire Line
	7200 6600 7200 6650
Wire Wire Line
	7350 6000 7350 6050
Wire Wire Line
	7350 6050 7050 6050
Wire Wire Line
	7050 6050 7050 6000
Wire Wire Line
	4350 6600 4350 6650
Wire Wire Line
	4450 6000 4450 6050
Wire Wire Line
	4450 6050 4250 6050
Wire Wire Line
	4250 6050 4250 6000
Wire Wire Line
	2250 3550 2250 4950
Wire Wire Line
	2250 3550 1200 3550
Connection ~ 4450 5450
Connection ~ 7350 5450
Wire Wire Line
	7350 5500 7350 5450
Connection ~ 7850 1750
Wire Wire Line
	7850 1700 7850 1750
Connection ~ 8250 1750
Wire Wire Line
	7450 1600 7450 1750
Wire Wire Line
	1300 2600 1300 2750
Wire Wire Line
	8250 1400 8250 1900
Wire Wire Line
	1300 2750 1200 2750
Wire Wire Line
	1200 4250 1350 4250
Wire Wire Line
	1350 4250 1350 4350
Wire Wire Line
	1500 2850 1200 2850
Wire Wire Line
	8650 900  8650 1200
Connection ~ 8650 1100
Wire Wire Line
	1200 2950 1600 2950
Wire Wire Line
	4450 5500 4450 5450
Wire Wire Line
	5700 5950 5700 6050
Wire Wire Line
	5500 4500 5500 4550
Wire Wire Line
	1200 3250 2550 3250
Wire Wire Line
	2350 3450 2350 4900
Wire Wire Line
	2350 3450 1200 3450
Wire Wire Line
	9800 3550 9650 3550
Wire Wire Line
	1350 3850 1200 3850
Wire Wire Line
	1300 2200 1300 2100
Wire Wire Line
	8650 1700 8650 1750
Wire Wire Line
	8650 1750 7450 1750
Wire Wire Line
	7450 1200 7450 900 
Wire Wire Line
	8550 5950 8550 6050
Wire Wire Line
	2450 3350 1200 3350
Connection ~ 7050 5050
Connection ~ 4250 5050
Wire Wire Line
	4350 6100 4350 6050
Connection ~ 4350 6050
Wire Wire Line
	7200 6100 7200 6050
Connection ~ 7200 6050
Wire Wire Line
	3250 5650 3250 5700
Wire Wire Line
	3250 5700 3450 5700
Wire Wire Line
	3450 5700 3450 5650
Wire Wire Line
	3350 6000 3350 5700
Wire Wire Line
	9800 2250 6050 2250
Wire Wire Line
	6050 2250 6050 1450
Wire Wire Line
	6050 1450 5450 1450
Wire Wire Line
	3750 1550 1600 1550
Wire Wire Line
	1600 1550 1600 2950
Wire Wire Line
	9800 2450 5850 2450
Wire Wire Line
	5850 2450 5850 2950
Wire Wire Line
	5850 2950 5450 2950
Wire Wire Line
	9800 2650 6050 2650
Wire Wire Line
	6050 2650 6050 3250
Wire Wire Line
	6050 3250 5450 3250
Wire Wire Line
	6300 3400 5450 3400
Wire Wire Line
	3750 3050 1200 3050
Wire Wire Line
	2550 5650 2550 5700
Wire Wire Line
	2550 5700 2750 5700
Wire Wire Line
	2750 5700 2750 5650
Wire Wire Line
	2550 5150 2550 4950
Connection ~ 2550 4950
Connection ~ 7750 1050
Connection ~ 7450 1050
Wire Wire Line
	2250 4950 3750 4950
Wire Wire Line
	3750 4950 3750 5450
Wire Wire Line
	3750 5450 4800 5450
Wire Wire Line
	2350 4900 4250 4900
Wire Wire Line
	4250 4900 4250 5500
Wire Wire Line
	7050 5500 7050 4200
Wire Wire Line
	7050 4200 2550 4200
Wire Wire Line
	7650 5050 7050 5050
Wire Wire Line
	6900 5450 7650 5450
Wire Wire Line
	2550 4200 2550 3250
Wire Wire Line
	3450 5150 3450 4200
Connection ~ 3450 4200
Wire Wire Line
	6200 4950 6700 4950
Wire Wire Line
	6700 4950 6700 3050
Wire Wire Line
	6700 3050 9800 3050
Wire Wire Line
	9450 3600 9450 3350
Wire Wire Line
	9450 3350 9800 3350
Wire Wire Line
	9350 3250 9800 3250
Wire Wire Line
	9100 4950 9100 3050
Connection ~ 9100 3050
Wire Wire Line
	8350 4500 8350 4550
Wire Wire Line
	7750 900  7750 1100
Wire Wire Line
	7750 1100 7850 1100
Kmarq B 1200 3850 "Warnung: Pin passive ist nicht verbunden" F=1
Kmarq B 9800 3350 "Fehler: Pin power_out verbunden mit Pin power_out (Netz 39)" F=2
Kmarq B 9050 5250 "Warnung: Pin BiDi ist nicht verbunden" F=1
Kmarq B 6200 5250 "Warnung: Pin BiDi ist nicht verbunden" F=1
Kmarq B 9800 3450 "Fehler: Pin power_out verbunden mit Pin power_out (Netz 28)" F=2
Kmarq B 7850 1100 "Warnung: Pin input ist nicht verbunden" F=1
Text Notes 650  4500 1    60   ~ 0
Not OBD2-Connector-Pinning!!!
Text Label 9250 2850 0    60   ~ 0
VPWM_IN
Text Label 9250 2750 0    60   ~ 0
VPWM_OUT
Text Label 9400 2950 0    60   ~ 0
TXD
Text Label 9400 3050 0    60   ~ 0
RXD
Text Label 1450 3550 0    60   ~ 0
CAN1_L
Text Label 1450 3450 0    60   ~ 0
CAN1_H
$Sheet
S 3750 2700 1700 1200
U 4A576886
F0 "pwm_interface" 60
F1 "pwm_interface.sch" 60
F2 "PWM+_OUT" I R 5450 2950 60 
F3 "PWM-_OUT" I R 5450 3100 60 
F4 "PWM_IN" O R 5450 3250 60 
F5 "VPWM_OUT" I R 5450 3400 60 
F6 "VPWM_IN" O R 5450 3550 60 
F7 "PWM+" B L 3750 3050 60 
F8 "PWM-" B L 3750 3150 60 
$EndSheet
$Sheet
S 3750 950  1700 1100
U 4A57508A
F0 "k_interface" 60
F1 "k_interface.sch" 60
F2 "L_LINE" B L 3750 1150 60 
F3 "K_LINE" B L 3750 1550 60 
F4 "KL_IN" O R 5450 1250 60 
F5 "K_OUT" I R 5450 1450 60 
F6 "L_OUT" I R 5450 1650 60 
$EndSheet
$Comp
L GND #PWR036
U 1 1 4A4B90CA
P 3350 6000
F 0 "#PWR036" H 3350 6000 30  0001 C CNN
F 1 "GND" H 3350 5930 30  0001 C CNN
	1    3350 6000
	1    0    0    -1  
$EndComp
$Comp
L VR VR246
U 1 1 4A4B907C
P 3450 5400
F 0 "VR246" V 3530 5400 50  0000 C CNN
F 1 "18V" V 3450 5400 50  0000 C CNN
	1    3450 5400
	1    0    0    -1  
$EndComp
$Comp
L VR VR245
U 1 1 4A4B9070
P 3250 5400
F 0 "VR245" V 3330 5400 50  0000 C CNN
F 1 "18V" V 3250 5400 50  0000 C CNN
	1    3250 5400
	1    0    0    -1  
$EndComp
$Comp
L VR VR241
U 1 1 4A4B8F4C
P 2750 5400
F 0 "VR241" V 2830 5400 50  0000 C CNN
F 1 "18V" V 2750 5400 50  0000 C CNN
	1    2750 5400
	1    0    0    -1  
$EndComp
$Comp
L VR VR240
U 1 1 4A4B8EBE
P 2550 5400
F 0 "VR240" V 2630 5400 50  0000 C CNN
F 1 "18V" V 2550 5400 50  0000 C CNN
	1    2550 5400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR037
U 1 1 4A4B8D09
P 2650 6000
F 0 "#PWR037" H 2650 6000 30  0001 C CNN
F 1 "GND" H 2650 5930 30  0001 C CNN
	1    2650 6000
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR038
U 1 1 4A4A6587
P 7750 900
F 0 "#PWR038" H 7750 850 20  0001 C CNN
F 1 "+12V" H 7750 1000 30  0000 C CNN
	1    7750 900 
	1    0    0    -1  
$EndComp
$Comp
L CAPAPOL C200
U 1 1 4A4A64A8
P 7450 1400
F 0 "C200" H 7500 1500 50  0000 L CNN
F 1 "220u" H 7150 1300 50  0000 L CNN
F 4 "25V" H 7250 1200 60  0000 C CNN "Feld1"
	1    7450 1400
	1    0    0    -1  
$EndComp
$Comp
L DIODE D200
U 1 1 4A4A641D
P 1300 2400
F 0 "D200" H 1300 2600 70  0000 C CNN
F 1 "1N4004" H 1350 2250 70  0000 C CNN
	1    1300 2400
	0    -1   -1   0   
$EndComp
Text Notes 850  7600 0    60   ~ 0
All device numbers 2xx
Text GLabel 1350 3850 2    60   Input ~ 0
IGN
$Comp
L +12V #PWR039
U 1 1 4A23FB7A
P 1300 2100
F 0 "#PWR039" H 1300 2050 20  0001 C CNN
F 1 "+12V" H 1300 2200 30  0000 C CNN
	1    1300 2100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR040
U 1 1 4A23FB14
P 1350 4350
F 0 "#PWR040" H 1350 4350 30  0001 C CNN
F 1 "GND" H 1350 4280 30  0001 C CNN
	1    1350 4350
	1    0    0    -1  
$EndComp
$Comp
L OBD_I J200
U 1 1 4A23686F
P 9900 2000
F 0 "J200" H 10150 1950 60  0000 C CNN
F 1 "OBD_I" H 10250 -550 60  0000 C CNN
	1    9900 2000
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR041
U 1 1 4A23F95A
P 9450 3600
F 0 "#PWR041" H 9450 3690 20  0001 C CNN
F 1 "+5V" H 9450 3690 30  0000 C CNN
	1    9450 3600
	1    0    0    1   
$EndComp
$Comp
L GND #PWR042
U 1 1 4A23F94E
P 9550 3750
F 0 "#PWR042" H 9550 3750 30  0001 C CNN
F 1 "GND" H 9550 3680 30  0001 C CNN
	1    9550 3750
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR043
U 1 1 4A23F928
P 9650 3550
F 0 "#PWR043" H 9650 3500 20  0001 C CNN
F 1 "+12V" H 9650 3650 30  0000 C CNN
	1    9650 3550
	1    0    0    1   
$EndComp
NoConn ~ 1200 4350
NoConn ~ 1200 4150
NoConn ~ 1200 4050
NoConn ~ 1200 3950
NoConn ~ 1200 3750
NoConn ~ 1200 3650
NoConn ~ 6200 6000
NoConn ~ 9050 5450
NoConn ~ 9800 3650
NoConn ~ 9800 3750
NoConn ~ 9800 3850
NoConn ~ 9800 3950
NoConn ~ 9800 4050
NoConn ~ 9800 4150
NoConn ~ 9800 4250
NoConn ~ 9800 4350
NoConn ~ 9800 4450
$Comp
L GND #PWR044
U 1 1 4A23EA78
P 4350 6650
F 0 "#PWR044" H 4350 6650 30  0001 C CNN
F 1 "GND" H 4350 6580 30  0001 C CNN
	1    4350 6650
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR045
U 1 1 4A23EA34
P 8350 4500
F 0 "#PWR045" H 8350 4590 20  0001 C CNN
F 1 "+5V" H 8350 4590 30  0000 C CNN
	1    8350 4500
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR046
U 1 1 4A23EA2F
P 5500 4500
F 0 "#PWR046" H 5500 4590 20  0001 C CNN
F 1 "+5V" H 5500 4590 30  0000 C CNN
	1    5500 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR047
U 1 1 4A23E9FD
P 5700 6050
F 0 "#PWR047" H 5700 6050 30  0001 C CNN
F 1 "GND" H 5700 5980 30  0001 C CNN
	1    5700 6050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR048
U 1 1 4A23E9F8
P 7200 6650
F 0 "#PWR048" H 7200 6650 30  0001 C CNN
F 1 "GND" H 7200 6580 30  0001 C CNN
	1    7200 6650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR049
U 1 1 4A23E9F0
P 8550 6050
F 0 "#PWR049" H 8550 6050 30  0001 C CNN
F 1 "GND" H 8550 5980 30  0001 C CNN
	1    8550 6050
	1    0    0    -1  
$EndComp
$Comp
L R R247
U 1 1 4A238948
P 7050 5750
F 0 "R247" V 7130 5750 50  0000 C CNN
F 1 "60" V 7050 5750 50  0000 C CNN
	1    7050 5750
	1    0    0    -1  
$EndComp
$Comp
L R R248
U 1 1 4A238947
P 7350 5750
F 0 "R248" V 7430 5750 50  0000 C CNN
F 1 "60" V 7350 5750 50  0000 C CNN
	1    7350 5750
	1    0    0    -1  
$EndComp
$Comp
L C C246
U 1 1 4A238946
P 7200 6350
F 0 "C246" H 7250 6450 50  0000 L CNN
F 1 "100n" H 7250 6250 50  0000 L CNN
	1    7200 6350
	1    0    0    -1  
$EndComp
$Comp
L PAC82C250 U241
U 1 1 4A238944
P 8350 5250
F 0 "U241" H 8350 5250 60  0000 C CNN
F 1 "PAC82C250" H 8400 5150 60  0000 C CNN
	1    8350 5250
	-1   0    0    -1  
$EndComp
$Comp
L R R242
U 1 1 4A238484
P 4250 5750
F 0 "R242" V 4330 5750 50  0000 C CNN
F 1 "60" V 4250 5750 50  0000 C CNN
	1    4250 5750
	1    0    0    -1  
$EndComp
$Comp
L R R243
U 1 1 4A23845F
P 4450 5750
F 0 "R243" V 4530 5750 50  0000 C CNN
F 1 "60" V 4450 5750 50  0000 C CNN
	1    4450 5750
	1    0    0    -1  
$EndComp
$Comp
L C C241
U 1 1 4A23841E
P 4350 6350
F 0 "C241" H 4400 6450 50  0000 L CNN
F 1 "100n" H 4400 6250 50  0000 L CNN
	1    4350 6350
	1    0    0    -1  
$EndComp
$Comp
L CONN_17 J202
U 1 1 4A2368A7
P 850 3550
F 0 "J202" V 810 3550 60  0000 C CNN
F 1 "CONN_17" V 930 3550 60  0000 C CNN
	1    850  3550
	-1   0    0    -1  
$EndComp
$Comp
L PAC82C250 U240
U 1 1 4A228342
P 5500 5250
F 0 "U240" H 5500 5250 60  0000 C CNN
F 1 "PAC82C250" H 5550 5150 60  0000 C CNN
	1    5500 5250
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR050
U 1 1 4A2240AD
P 8250 1900
F 0 "#PWR050" H 8250 1900 30  0001 C CNN
F 1 "GND" H 8250 1830 30  0001 C CNN
	1    8250 1900
	1    0    0    -1  
$EndComp
$Comp
L +8V #PWR051
U 1 1 4A2240A0
P 8650 900
F 0 "#PWR051" H 8650 870 20  0001 C CNN
F 1 "+8V" H 8650 1010 30  0000 C CNN
	1    8650 900 
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR052
U 1 1 4A224093
P 7450 900
F 0 "#PWR052" H 7450 850 20  0001 C CNN
F 1 "+12V" H 7450 1000 30  0000 C CNN
	1    7450 900 
	1    0    0    -1  
$EndComp
$Comp
L C C202
U 1 1 4A22406B
P 8650 1450
F 0 "C202" H 8700 1550 50  0000 L CNN
F 1 "100n" H 8700 1350 50  0000 L CNN
	1    8650 1450
	1    0    0    -1  
$EndComp
$Comp
L C C201
U 1 1 4A224067
P 7850 1450
F 0 "C201" H 7900 1550 50  0000 L CNN
F 1 "100n" H 7900 1350 50  0000 L CNN
	1    7850 1450
	1    0    0    -1  
$EndComp
$Comp
L 7805 U201
U 1 1 4A224022
P 8250 1150
F 0 "U201" H 8400 954 60  0000 C CNN
F 1 "78L08" H 8250 1350 60  0000 C CNN
	1    8250 1150
	1    0    0    -1  
$EndComp
$EndSCHEMATC
